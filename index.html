<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Expense Tracker</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Authentication Check -->
    <div id="authCheck" class="app-hidden">
        <div class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="login-logo">ðŸ’°</div>
                    <h1 class="login-title">Session Expired</h1>
                    <p class="login-subtitle">Please log in again to continue</p>
                </div>
                <button class="login-btn" onclick="window.location.href='login.html'">
                    Go to Login
                </button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <span class="logo-icon">ðŸ’°</span>
                    <h1>Smart Expense Tracker</h1>
                </div>
            </div>
            <div class="header-right">
                <div class="user-info" id="userInfo">
                    <span class="user-name" id="userName">Welcome!</span>
                </div>
                <button class="header-btn" id="exportBtn">
                    <span>ðŸ“¥</span> Export CSV
                </button>
                <button class="header-btn" id="logoutBtn" onclick="logout()">
                    <span>ðŸšª</span> Logout
                </button>
            </div>
        </header>

        <!-- Summary Cards -->
        <div class="summary-section">
            <div class="summary-card income-card">
                <div class="card-header">
                    <h3>Total Income</h3>
                    <span class="trend-icon">ðŸ“ˆ</span>
                </div>
                <div class="amount" id="totalIncome">â‚¹0.00</div>
            </div>
            <div class="summary-card expense-card">
                <div class="card-header">
                    <h3>Total Expenses</h3>
                    <span class="trend-icon">ðŸ“‰</span>
                </div>
                <div class="amount" id="totalExpenses">â‚¹0.00</div>
            </div>
            <div class="summary-card balance-card">
                <div class="card-header">
                    <h3>Net Balance</h3>
                    <span class="trend-icon">ðŸ’°</span>
                </div>
                <div class="amount" id="netBalance">â‚¹0.00</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Panel - Filters -->
            <div class="left-panel">
                <div class="filters-section">
                    <h3>Filters</h3>
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>Category</label>
                            <select id="categoryFilter">
                                <option value="">All categories</option>
                                <option value="food">Food</option>
                                <option value="transport">Transport</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="utilities">Utilities</option>
                                <option value="salary">Salary</option>
                                <option value="freelance">Freelance</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>From Date</label>
                            <input type="date" id="fromDate">
                        </div>
                        <div class="filter-group">
                            <label>To Date</label>
                            <input type="date" id="toDate">
                        </div>
                        <div class="filter-group">
                            <label>Min Amount</label>
                            <input type="number" id="minAmount" placeholder="0.00" step="0.01">
                        </div>
                        <div class="filter-group">
                            <label>Max Amount</label>
                            <input type="number" id="maxAmount" placeholder="No limit" step="0.01">
                        </div>
                    </div>
                    <button class="clear-filters-btn" id="clearFiltersBtn">Clear Filters</button>
                </div>

                <!-- Transactions List -->
                <div class="transactions-section">
                    <div class="transactions-list" id="transactionsList">
                        <div class="no-transactions">
                            <div class="no-transactions-icon">ðŸ“„</div>
                            <h3>No transactions found</h3>
                            <p>Add your first transaction to get started</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Add Transaction Form (Always Visible) -->
            <div class="right-panel">
                <div class="add-transaction-form" id="addTransactionForm">
                    <div class="form-header">
                        <h3>Add Transaction</h3>
                    </div>
                    <p class="form-subtitle">Record a new income or expense</p>
                    
                    <form id="transactionForm">
                        <div class="form-group">
                            <label>Transaction Type</label>
                            <div class="radio-group">
                                <label class="radio-option" id="incomeOption">
                                    <input type="radio" name="type" value="income">
                                    <span class="radio-custom"></span>
                                    <span>Income</span>
                                </label>
                                <label class="radio-option" id="expenseOption">
                                    <input type="radio" name="type" value="expense" checked>
                                    <span class="radio-custom"></span>
                                    <span>Expense</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="title">Title</label>
                            <input type="text" id="title" name="title" placeholder="Enter transaction title" required>
                        </div>

                        <div class="form-group">
                            <label for="amount">Amount (â‚¹)</label>
                            <input type="number" id="amount" name="amount" placeholder="0.00" step="0.01" min="0" required>
                        </div>

                        <div class="form-group">
                            <label for="category">Category</label>
                            <select id="category" name="category" required>
                                <option value="">Select a category</option>
                                <option value="food">Food</option>
                                <option value="transport">Transport</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="utilities">Utilities</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="date">Date</label>
                            <input type="date" id="date" name="date" required>
                        </div>

                        <div class="form-group">
                            <label for="notes">Notes (Optional)</label>
                            <textarea id="notes" name="notes" placeholder="Add any additional notes..." rows="3"></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="submit-btn">Add Transaction</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <div class="toast-content">
            <span class="toast-icon" id="toastIcon">âœ“</span>
            <span class="toast-message" id="toastMessage"></span>
        </div>
    </div>

    <script src="scripts/main.js"></script>
</body>
</html>
